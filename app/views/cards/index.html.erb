<div>
  <h1 class="top-header"><%= @card.card_name.split.map(&:capitalize).join(' ') %> - Card Information</h1>
</div>

</br>

<div>
  <h2>Card Back Summary</h1>

  <table class="order-table">
    <thead>
      <th>Card Back</th>
      <th>Population</th>
      <th>Population %</th>
    </thead>
    <tbody>
      <% @summary_backs.each_row do |row| %>
        <tr>
          <% row.each do |element| %>
            <% if element.to_f < 1 && element.to_f > 0 %>
              <% x = element.to_f * 100 %>
              <td><%= x.round(2).to_s + "%" %></td>
            <% else %>
              <td><%= element %></td>
            <% end %>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>

  <h2>Card Grade Summary</h1>

  <table class="order-table">
    <thead>
      <th>Card Grade</th>
      <th>Population</th>
      <th>Population %</th>
    </thead>
    <tbody>
      <% @summary_grades.each_row do |row| %>
        <tr>
          <% row.each do |element| %>
            <% if element.to_f < 1 && element.to_f > 0 %>
              <% x = element.to_f * 100 %>
              <td><%= x.round(2).to_s + "%" %></td>
            <% else %>
              <td><%= element %></td>
            <% end %>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>

  <h2>Card Details</h1>

  <div class = "filter">
    <input type="search" class="light-table-filter" data-table="order-table" placeholder="Filter"/>
  </div>

  <table class="order-table">
    <thead>
      <th>Card Back</th>
      <th>Grade</th>
      <th>Population</th>
      <th>Estimated Value</th>
    </thead>
    <tbody>
      <% @info.each do |row| %>
        <tr>
          <% row.attributes.each do |key, value| %>
            <% if key == 'psa_card' %>
            <% elsif key == 'val' %>
              <td><%= "#{number_to_currency(value)}" %></td>
            <% else %>
              <td><%= "#{value}" %></td>
            <% end %>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
